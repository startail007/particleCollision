!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=6)}([function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return u}));var n=i(1),o=i.n(n),r=i(2),s=i.n(r),a=function(){function t(){o()(this,t)}return s()(t,null,[{key:"rotate",value:function(t,e){var i=Math.cos(e),n=Math.sin(e);return[t[0]*i-t[1]*n,t[1]*i+t[0]*n]}},{key:"dot",value:function(t,e){return t[0]*e[0]+t[1]*e[1]}},{key:"cross",value:function(t,e){return t[0]*e[1]-t[1]*e[0]}},{key:"add",value:function(t,e){return[t[0]+e[0],t[1]+e[1]]}},{key:"sub",value:function(t,e){return[t[0]-e[0],t[1]-e[1]]}},{key:"projection",value:function(e,i){var n=t.dot(e,i)/t.dot(i,i);return[i[0]*n,i[1]*n]}},{key:"length",value:function(e){return Math.sqrt(t.dot(e,e))}},{key:"scale",value:function(t,e){return[t[0]*e,t[1]*e]}},{key:"collisionCalc",value:function(e,i,n,o){return t.scale(t.add(t.scale(e,n-o),t.scale(i,2*o)),1/(n+o))}}]),t}(),u=function(){function t(){o()(this,t)}return s()(t,null,[{key:"add",value:function(t,e){return t[0]+=e[0],t[1]+=e[1],t}},{key:"sub",value:function(t,e){return t[0]-=e[0],t[1]-=e[1],t}},{key:"scale",value:function(t,e){return t[0]*=e,t[1]*=e,t}}]),t}()},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}},,function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return a}));for(var n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,i=null;return function(){var n=this,o=arguments;clearTimeout(i),i=setTimeout((function(){t.apply(n,o)}),e)}},o=new Array(200),r=0,s=o.length;r<s;r++)o[r]=1-2*Math.random();var a=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}},function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i(1),o=i.n(n),r=i(2),s=i.n(r),a=i(0),u=function(){function t(){o()(this,t)}return s()(t,null,[{key:"toPosRate",value:function(t,e,i){return[t[0]*(1-i)+e[0]*i,t[1]*(1-i)+e[1]*i]}},{key:"cross",value:function(t,e,i){return(t[0]-e[0])*(i[1]-e[1])-(i[0]-e[0])*(t[1]-e[1])}},{key:"getCenter",value:function(t,e){return[.5*(t[0]+e[0]),.5*(t[1]+e[1])]}},{key:"getVector",value:function(t,e){return[e[0]-t[0],e[1]-t[1]]}},{key:"addVector",value:function(t,e){return[t[0]+e[0],t[1]+e[1]]}},{key:"distance",value:function(e,i){return a.a.length(t.getVector(e,i))}}]),t}(),c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#000000",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;o()(this,t),this.options={color:e,pos:i,velocity:n,direct:r,radius:s,mass:a},this.init()}return s()(t,[{key:"init",value:function(){this.pos=this.options.pos.slice(),this.velocity=[Math.cos(this.options.direct)*this.options.velocity,Math.sin(this.options.direct)*this.options.velocity],this.radius=this.options.radius,this.mass=this.options.mass,this.collision=!1,this.velocity0=[0,0]}},{key:"setVelocity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.velocity[0]=Math.cos(e)*t,this.velocity[1]=Math.sin(e)*t}},{key:"addVelocity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.velocity[0]+=Math.cos(e)*t,this.velocity[1]+=Math.sin(e)*t}},{key:"setPos",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.pos[0]=t,this.pos[1]=e}},{key:"setRadius",value:function(t){this.radius=t}},{key:"setMass",value:function(t){this.mass=t}},{key:"update",value:function(){this.pos[0]+=this.velocity[0],this.pos[1]+=this.velocity[1]}},{key:"render",value:function(t){t.fillStyle=this.options.color,t.beginPath(),t.arc(this.pos[0],this.pos[1],this.radius,0,2*Math.PI),t.fill()}},{key:"boundaryCheck",value:function(t,e){this.pos[0]-this.radius<0&&this.velocity[0]<0?(this.velocity[0]*=-1,this.pos[0]=0+this.radius):this.pos[0]+this.radius>t&&this.velocity[0]>0?(this.velocity[0]*=-1,this.pos[0]=t-this.radius):this.pos[1]-this.radius<0&&this.velocity[1]<0?(this.velocity[1]*=-1,this.pos[1]=0+this.radius):this.pos[1]+this.radius>e&&this.velocity[1]>0&&(this.velocity[1]*=-1,this.pos[1]=e-this.radius)}},{key:"collisionCheck",value:function(t){for(var e=0;e<t.length;e++){var i=t[e];if(this===i)return;var n=this.pos,o=i.pos,r=u.distance(n,o);if(r>0&&r<this.radius+i.radius){var s=u.getVector(n,o);a.b.scale(s,this.radius/r);var c=u.getVector(o,n);a.b.scale(c,i.radius/r);var l=u.toPosRate(n,o,this.radius/(this.radius+i.radius)),h=u.getVector(u.addVector(n,s),l);a.b.scale(h,.5);var v=u.getVector(u.addVector(o,c),l);a.b.scale(v,.5),a.b.add(n,h),a.b.add(o,v);var f=a.a.sub(this.velocity,i.velocity);if(a.a.dot(f,s)>=0){var d=a.a.projection(this.velocity,s),y=a.a.projection(i.velocity,c);a.b.sub(this.velocity,d),a.b.sub(i.velocity,y);var p=a.a.collisionCalc(d,y,this.mass,i.mass),g=a.a.collisionCalc(y,d,i.mass,this.mass);a.b.add(this.velocity,p),a.b.add(i.velocity,g)}}}}}]),t}()},function(t,e,i){"use strict";i.r(e);var n,o,r,s,a=i(5),u=i(4);n=document.getElementById("canvas"),o=n.getContext("2d"),r=n.width,s=n.height;for(var c=!Object(u.b)(),l=[],h=0;h<(c?2e3:1e3);h++){var v=3+3*Math.random();l.push(new a.a("hsl(".concat(Math.floor(360*Math.random()),",100%,50%)"),[v+(r-2*v)*Math.random(),v+(s-2*v)*Math.random()],2,2*Math.PI*Math.random(),v))}function f(){o.fillStyle="#000000",o.fillRect(0,0,r,s);for(var t=0;t<l.length;t++)l[t].update();for(var e=0;e<l.length;e++)l[e].collisionCheck(l);for(var i=0;i<l.length;i++)l[i].boundaryCheck(r,s);for(var n=0;n<l.length;n++)l[n].render(o)}f();var d=Date.now();!function t(){requestAnimationFrame(t);var e=Date.now(),i=(e-d)/1e3;d=e,f(),o.font="18px Noto Sans TC",o.textAlign="start",o.textBaseline="hanging",o.fillStyle="#ffffff",o.fillText((1/i).toFixed(1),10,10)}()}]);