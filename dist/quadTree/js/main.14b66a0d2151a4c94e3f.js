!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=6)}({3:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"a",(function(){return s}));class n{constructor(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n}constains(t){return t[0]>=this.x&&t[0]<=this.x+this.width&&t[1]>=this.y&&t[1]<=this.y+this.height}intersect(t){return!(t.x>this.x+this.width||t.x+t.width<this.x||t.y>this.y+this.height||t.y+t.height<this.y)}get center(){return[this.x+.5*this.width,this.y+.5*this.height]}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}}class s{constructor(t,e=1,i=4,n=5,s=0){this.corner=["northwest","northeast","southeast","southwest"],this.reset(t,e,i,n,s)}reset(t,e=1,i=4,n=5,s=0){this.clear(),this.boundary=t,this.center=[t.x+.5*t.width,t.y+.5*t.height],this.minRange=e,this.maxPoints=i,this.maxLevel=n,this.level=s,this.points=[],this.divided=!1}subdivide(){const t=.5*this.boundary.width,e=.5*this.boundary.height,i=[[0,0],[t,0],[t,e],[0,e]];this.corner.forEach((r,h)=>{this[r]=new s(new n(this.boundary.x+i[h][0],this.boundary.y+i[h][1],t,e),this.minRange,this.maxPoints,this.maxLevel,this.level+1)})}insertOrientation(t){t.point[0]<this.center[0]?t.point[1]<this.center[1]?this.northwest.insert(t):this.southwest.insert(t):t.point[1]<this.center[1]?this.northeast.insert(t):this.southeast.insert(t)}insert(t){if(this.divided)this.insertOrientation(t);else if(this.points.length<this.maxPoints||this.level>this.maxLevel||this.boundary.width<=this.minRange||this.boundary.height<=this.minRange)this.points.push(t);else{this.divided=!0,this.subdivide();for(let t=0;t<this.points.length;t++)this.insertOrientation(this.points[t]);this.points=[],this.insertOrientation(t)}}query(t,e){if(e||(e=[]),!this.boundary.intersect(t))return e;if(this.divided)this.corner.forEach(i=>{this[i].query(t,e)});else for(let i=0;i<this.points.length;i++)t.constains(this.points[i].point)&&e.push(this.points[i]);return e}queryAndMap(t,e){return this.query(t).map(t=>e[t.key])}clear(){this.points=[],this.divided&&(this.corner.forEach(t=>{this[t].clear(),this[t]=void 0}),this.divided=!1)}render(t){t.strokeStyle="#ffffff",t.beginPath(),t.strokeRect(this.boundary.x,this.boundary.y,this.boundary.width,this.boundary.height),t.stroke(),this.divided&&this.corner.forEach(e=>{this[e].render(t)})}}},6:function(t,e,i){"use strict";i.r(e);var n=i(3);let s,r,h,o;s=document.getElementById("canvas"),r=s.getContext("2d"),h=s.width,o=s.height;let a=[0,0],l=!1;s.addEventListener("mousedown",(function(t){l=!0})),window.addEventListener("mouseup",(function(t){l=!1})),s.addEventListener("mousemove",(function(t){if(a[0]=t.offsetX,a[1]=t.offsetY,l){let t=[...a];d.push(t),f.insert({key:d.length-1,point:t})}}));let u=new n.b(0,0,h,o),d=[];for(let t=0;t<10;t++)d.push([Math.random()*h,Math.random()*o]);let f=new n.a(u,2,4,8);function c(){r.fillStyle="#000000",r.fillRect(0,0,h,o),r.save();for(let t=0;t<d.length;t++)d[t][0]+=1-2*Math.random(),d[t][1]+=1-2*Math.random();f.clear();for(let t=0;t<d.length;t++)f.insert({key:t,point:d[t]});r.lineWidth=.5,f.render(r),r.fillStyle="#00ffff";for(let t=0;t<d.length;t++)r.beginPath(),r.arc(d[t][0],d[t][1],2,0,2*Math.PI),r.fill();let t,e;t=new n.b(a[0]-100,a[1]-100,200,200),e=f.query(t);for(let t=0;t<e.length;t++)r.fillStyle="#ff00ff",r.beginPath(),r.arc(e[t].point[0],e[t].point[1],3,0,2*Math.PI),r.fill();r.strokeStyle="#00ff00",r.lineWidth=3,r.beginPath(),r.strokeRect(t.x,t.y,t.width,t.height),r.stroke(),r.restore()}s.addEventListener("click",(function(t){a[0]=ev.offsetX,a[1]=ev.offsetY;let e=[...a];d.push(e),f.insert({key:d.length-1,point:e})})),c();let y=0,g=function(t){requestAnimationFrame(g);let e=(t-y)/1e3;y=t,c(),r.font="bold 18px Noto Sans TC",r.textAlign="start",r.textBaseline="hanging",r.fillStyle="#ffffff",r.fillText((1/e).toFixed(1),10,10)};requestAnimationFrame(g)}});